<!--TABLA PARA GESTION DE COMERCIOS-->

<div class="container mt-5">
    <!-- Tabla de administradores -->
    <div class="table-container">
      <table class="table table-striped table-bordered">
        <thead class="thead-dark">
          <tr>
            <th class="text-center">Nombre del Negocio</th>
            <th class="text-center">Correo empresarial</th>
            <th class="text-center">Editar</th>
            <th class="text-center">Eliminar</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let businessAssociate of getBusinessAssociatesForCurrentPage()">
            <td>{{ businessAssociate.BusinessName }}</td>
            <td>{{ businessAssociate.Email }}</td>
            <td class="text-center">
              <button class="btn btn-edit" (click)="editBusinessAssociate(businessAssociate)">
                <i class="fa fa-pencil"></i>
              </button>
            </td>
            <td class="text-center">
              <button class="btn btn-delete" (click)="deleteBusinessAssociate(businessAssociate.Legal_Id)">
                <i class="fa fa-trash"></i>
              </button>
            </td>
          </tr>
          
          <!-- Agregar filas vacías si hay menos de 6 elementos -->
          <tr *ngFor="let empty of [].constructor(6 - getBusinessAssociatesForCurrentPage().length); let i = index">
            <td colspan="4" class="text-center"></td>
          </tr>
        </tbody>
      </table>
  
      <!-- Paginación personalizada -->
      <tfoot>
        <tr>
          <td colspan="4">
            <div class="pagination-container">
              <button class="btn btn-pagination" (click)="previousPage()" [disabled]="currentPage === 1">
                <i class="fa fa-chevron-left"></i>
              </button>
  
              <span class="current-page">{{ currentPage }} de {{ totalPages }}</span>
  
              <button class="btn btn-pagination" (click)="nextPage()" [disabled]="currentPage === totalPages">
                 <i class="fa fa-chevron-right"></i>
              </button>
            </div>
          </td>
        </tr>
      </tfoot>
    </div>
  
    <div class="filter-create-wrapper">
      <!-- Barra de búsqueda y botón de crear administrador -->
      <div class="filter-create-container">
        <div class="filter-name">
          <input type="text" placeholder="Filtrar por nombre" (input)="onFilter($event)" />
        </div>
        <button class="btn-create" (click)="createBusinessAssociate()">Crear Negocio Afiliado</button>
      </div> 
    </div>
  
  </div>